{% extends "base.html" %}

{% block title %}Главная - Система олимпиад МелГУ{% endblock %}

{% block head %}
<style>
    /* Hero секция */
    .hero-section {
        background: linear-gradient(135deg, #820000 0%, #a91b2b 25%, #dc2626 50%, #a91b2b 75%, #820000 100%);
        border-radius: 32px;
        position: relative;
        overflow: hidden;
        min-height: 600px;
        display: flex;
        align-items: center;
    }

    .hero-section::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
        animation: hero-shimmer 4s infinite;
    }

    @keyframes hero-shimmer {
        0% { left: -100%; opacity: 0; }
        50% { opacity: 1; }
        100% { left: 100%; opacity: 0; }
    }

    .hero-decoration {
        position: absolute;
        top: 0;
        right: 0;
        width: 50%;
        height: 100%;
        background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="200" viewBox="0 0 100 200"><polygon points="50,20 80,40 80,80 50,100 20,80 20,40" fill="white" opacity="0.05" /></svg>');
        background-repeat: repeat;
        animation: float 8s ease-in-out infinite;
    }

    @keyframes float {
        0%, 100% { transform: translateY(0px); }
        50% { transform: translateY(-20px); }
    }

    .hero-content {
        position: relative;
        z-index: 10;
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 2rem;
    }

    .hero-badge {
        display: inline-flex;
        align-items: center;
        padding: 12px 24px;
        background: rgba(255, 255, 255, 0.2);
        border: 1px solid rgba(255, 255, 255, 0.3);
        border-radius: 50px;
        color: white;
        font-weight: 600;
        margin-bottom: 2rem;
        backdrop-filter: blur(10px);
        animation: pulse-badge 3s infinite;
    }

    @keyframes pulse-badge {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.05); }
    }

    .hero-title {
        font-size: 4rem;
        font-weight: 900;
        color: white;
        margin-bottom: 1.5rem;
        line-height: 1.1;
        text-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        animation: hero-text 1s ease-out;
    }

    @keyframes hero-text {
        from { opacity: 0; transform: translateY(30px); }
        to { opacity: 1; transform: translateY(0); }
    }

    .hero-subtitle {
        font-size: 1.5rem;
        color: rgba(255, 255, 255, 0.9);
        margin-bottom: 2rem;
        max-width: 600px;
        animation: hero-text 1s ease-out 0.2s both;
    }

    .hero-stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 2rem;
        margin-top: 3rem;
        animation: hero-text 1s ease-out 0.6s both;
    }

    .hero-stat {
        text-align: center;
        padding: 1.5rem;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 20px;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        transition: all 0.3s ease;
    }

    .hero-stat:hover {
        background: rgba(255, 255, 255, 0.2);
        transform: translateY(-5px);
    }

    .hero-stat-number {
        font-size: 2.5rem;
        font-weight: 900;
        color: white;
        display: block;
        margin-bottom: 0.5rem;
    }

    .hero-stat-label {
        color: rgba(255, 255, 255, 0.8);
        font-weight: 500;
        text-transform: uppercase;
        letter-spacing: 0.1em;
        font-size: 0.875rem;
    }

    /* Секция преимуществ */
    .features-section {
        padding: 5rem 0;
        background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
        position: relative;
        overflow: hidden;
    }

    .features-section::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="120" height="240" viewBox="0 0 120 240"><polygon points="60,20 100,45 100,95 60,120 20,95 20,45" fill="%23820000" opacity="0.02" /></svg>');
        background-repeat: repeat;
        animation: float 12s ease-in-out infinite reverse;
    }

    .feature-card {
        background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
        border-radius: 24px;
        padding: 2.5rem;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        border: 1px solid rgba(130, 0, 0, 0.1);
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        overflow: hidden;
        height: 100%;
    }

    .feature-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(130, 0, 0, 0.05), transparent);
        transition: left 0.6s ease;
    }

    .feature-card:hover::before {
        left: 100%;
    }

    .feature-card:hover {
        transform: translateY(-8px);
        box-shadow: 0 20px 40px rgba(130, 0, 0, 0.15);
        border-color: rgba(130, 0, 0, 0.2);
    }

    .feature-icon {
        width: 80px;
        height: 80px;
        background: linear-gradient(135deg, #820000 0%, #a91b2b 100%);
        border-radius: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        margin-bottom: 1.5rem;
        box-shadow: 0 8px 25px rgba(130, 0, 0, 0.3);
        transition: all 0.3s ease;
        position: relative;
        z-index: 1;
    }

    .feature-card:hover .feature-icon {
        transform: scale(1.1) rotate(5deg);
        box-shadow: 0 12px 35px rgba(130, 0, 0, 0.4);
    }

    .feature-title {
        font-size: 1.5rem;
        font-weight: 700;
        color: #1f2937;
        margin-bottom: 1rem;
        position: relative;
        z-index: 1;
    }

    .feature-description {
        color: #6b7280;
        line-height: 1.6;
        position: relative;
        z-index: 1;
    }

    /* Секция олимпиад */
    .olympiads-section {
        padding: 5rem 0;
        background: linear-gradient(135deg, #f8fafc 0%, #ffffff 100%);
    }

    .olympiad-card {
        background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
        border-radius: 20px;
        overflow: hidden;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        border: 1px solid rgba(130, 0, 0, 0.1);
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
    }

    .olympiad-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(130, 0, 0, 0.03), transparent);
        transition: left 0.6s ease;
    }

    .olympiad-card:hover::before {
        left: 100%;
    }

    .olympiad-card:hover {
        transform: translateY(-8px) scale(1.02);
        box-shadow: 0 20px 40px rgba(130, 0, 0, 0.15);
        border-color: rgba(130, 0, 0, 0.2);
    }

    .olympiad-status {
        position: absolute;
        top: 20px;
        right: 20px;
        padding: 8px 16px;
        border-radius: 20px;
        font-size: 0.75rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        z-index: 10;
    }

    .status-active {
        background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        color: white;
        box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
    }

    .status-upcoming {
        background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        color: white;
        box-shadow: 0 4px 12px rgba(245, 158, 11, 0.3);
    }

    .status-completed {
        background: linear-gradient(135deg, #64748b 0%, #475569 100%);
        color: white;
        box-shadow: 0 4px 12px rgba(100, 116, 139, 0.3);
    }

    /* Статистика университета */
    .university-stats {
        padding: 5rem 0;
        background: linear-gradient(135deg, #820000 0%, #a91b2b 25%, #dc2626 50%, #a91b2b 75%, #820000 100%);
        color: white;
        position: relative;
        overflow: hidden;
    }

    .university-stats::before {
        content: '';
        position: absolute;
        top: 0;
        right: 0;
        width: 50%;
        height: 100%;
        background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="60" height="120" viewBox="0 0 60 120"><polygon points="30,10 50,25 50,55 30,70 10,55 10,25" fill="white" opacity="0.05" /></svg>');
        background-repeat: repeat;
        animation: float 10s ease-in-out infinite;
    }

    .stat-card {
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 20px;
        padding: 2rem;
        text-align: center;
        backdrop-filter: blur(10px);
        transition: all 0.3s ease;
        position: relative;
        z-index: 1;
    }

    .stat-card:hover {
        background: rgba(255, 255, 255, 0.2);
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
    }

    .stat-number {
        font-size: 3rem;
        font-weight: 900;
        margin-bottom: 0.5rem;
        counter-reset: number var(--value);
    }

    .stat-number::before {
        content: counter(number);
        animation: counter 2s ease-out forwards;
    }

    @keyframes counter {
        from { --value: 0; }
        to { --value: var(--target); }
    }

    /* Отзывы */
    .testimonials-section {
        padding: 5rem 0;
        background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
        position: relative;
    }

    .testimonial-card {
        background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
        border-radius: 24px;
        padding: 2rem;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        border: 1px solid rgba(130, 0, 0, 0.1);
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
    }

    .testimonial-card::before {
        content: '';
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(circle, rgba(130, 0, 0, 0.05) 0%, transparent 70%);
        transition: all 0.3s ease;
        transform: scale(0);
    }

    .testimonial-card:hover::before {
        transform: scale(1);
    }

    .testimonial-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 35px rgba(130, 0, 0, 0.12);
    }

    .testimonial-content {
        position: relative;
        z-index: 1;
    }

    .testimonial-quote {
        font-size: 1.125rem;
        line-height: 1.6;
        color: #374151;
        margin-bottom: 1.5rem;
        font-style: italic;
        position: relative;
    }

    .testimonial-quote::before {
        content: '"';
        font-size: 4rem;
        color: rgba(130, 0, 0, 0.2);
        position: absolute;
        top: -20px;
        left: -10px;
        font-family: serif;
    }

    .testimonial-author {
        display: flex;
        align-items: center;
        gap: 1rem;
    }

    .testimonial-avatar {
        width: 60px;
        height: 60px;
        background: linear-gradient(135deg, #820000 0%, #a91b2b 100%);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: bold;
        font-size: 1.5rem;
        box-shadow: 0 4px 12px rgba(130, 0, 0, 0.3);
    }

    .testimonial-info h4 {
        font-weight: 600;
        color: #1f2937;
        margin-bottom: 0.25rem;
    }

    .testimonial-info p {
        color: #6b7280;
        font-size: 0.875rem;
    }

    /* CTA секция */
    .cta-section {
        padding: 5rem 0;
        background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        position: relative;
        overflow: hidden;
    }

    .cta-section::before {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 120%;
        height: 120%;
        background: radial-gradient(circle, rgba(130, 0, 0, 0.05) 0%, transparent 70%);
        animation: pulse-bg 4s ease-in-out infinite;
    }

    @keyframes pulse-bg {
        0%, 100% { transform: translate(-50%, -50%) scale(1); }
        50% { transform: translate(-50%, -50%) scale(1.1); }
    }

    .cta-card {
        background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
        border-radius: 32px;
        padding: 4rem;
        text-align: center;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        border: 1px solid rgba(130, 0, 0, 0.1);
        position: relative;
        z-index: 1;
        max-width: 800px;
        margin: 0 auto;
    }

    .cta-icon {
        width: 100px;
        height: 100px;
        background: linear-gradient(135deg, #820000 0%, #a91b2b 100%);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        margin: 0 auto 2rem;
        box-shadow: 0 8px 25px rgba(130, 0, 0, 0.3);
        animation: bounce-icon 3s ease-in-out infinite;
    }

    @keyframes bounce-icon {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-10px); }
    }

    /* Кнопки */
    .btn-primary {
        background: linear-gradient(135deg, #820000 0%, #a91b2b 100%);
        color: white;
        padding: 16px 32px;
        border-radius: 16px;
        font-weight: 600;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        gap: 12px;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        box-shadow: 0 4px 15px rgba(130, 0, 0, 0.3);
        position: relative;
        overflow: hidden;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        font-size: 0.875rem;
    }

    .btn-primary::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
        transition: left 0.5s ease;
    }

    .btn-primary:hover::before {
        left: 100%;
    }

    .btn-primary:hover {
        transform: translateY(-3px) scale(1.05);
        box-shadow: 0 8px 25px rgba(130, 0, 0, 0.4);
        color: white;
        text-decoration: none;
    }

    .btn-secondary {
        background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
        color: #820000;
        padding: 16px 32px;
        border-radius: 16px;
        font-weight: 600;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        gap: 12px;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        border: 2px solid rgba(130, 0, 0, 0.2);
        position: relative;
        overflow: hidden;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        font-size: 0.875rem;
    }

    .btn-secondary::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(130, 0, 0, 0.05), transparent);
        transition: left 0.5s ease;
    }

    .btn-secondary:hover::before {
        left: 100%;
    }

    .btn-secondary:hover {
        transform: translateY(-3px) scale(1.05);
        box-shadow: 0 8px 25px rgba(130, 0, 0, 0.2);
        border-color: rgba(130, 0, 0, 0.3);
        color: #820000;
        text-decoration: none;
    }

    /* Анимации */
    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translate3d(0, 60px, 0);
        }
        to {
            opacity: 1;
            transform: translate3d(0, 0, 0);
        }
    }

    @keyframes slideInFromLeft {
        from {
            opacity: 0;
            transform: translate3d(-60px, 0, 0);
        }
        to {
            opacity: 1;
            transform: translate3d(0, 0, 0);
        }
    }

    @keyframes slideInFromRight {
        from {
            opacity: 0;
            transform: translate3d(60px, 0, 0);
        }
        to {
            opacity: 1;
            transform: translate3d(0, 0, 0);
        }
    }

    .animate-fadeInUp {
        animation: fadeInUp 0.8s ease-out;
    }

    .animate-slideInFromLeft {
        animation: slideInFromLeft 0.8s ease-out;
    }

    .animate-slideInFromRight {
        animation: slideInFromRight 0.8s ease-out;
    }

    /* Адаптивность */
    @media (max-width: 1024px) {
        .hero-title {
            font-size: 3rem;
        }

        .hero-stats {
            grid-template-columns: repeat(2, 1fr);
        }
    }

    @media (max-width: 768px) {
        .hero-title {
            font-size: 2.5rem;
        }

        .hero-subtitle {
            font-size: 1.25rem;
        }

        .hero-stats {
            grid-template-columns: 1fr;
        }

        .feature-card,
        .testimonial-card,
        .cta-card {
            padding: 1.5rem;
        }

        .cta-card {
            padding: 2rem;
        }

        .hero-section {
            min-height: 500px;
        }
    }

    /* Интерактивные элементы */
    .interactive-hover {
        transition: all 0.3s ease;
    }

    .interactive-hover:hover {
        transform: scale(1.02);
    }

    .particle-container {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        overflow: hidden;
    }

    .particle {
        position: absolute;
        width: 4px;
        height: 4px;
        background: white;
        border-radius: 50%;
        opacity: 0.6;
        animation: particle-float 6s linear infinite;
    }

    @keyframes particle-float {
        0% {
            transform: translateY(100vh) rotate(0deg);
            opacity: 0;
        }
        10% {
            opacity: 0.6;
        }
        90% {
            opacity: 0.6;
        }
        100% {
            transform: translateY(-100px) rotate(360deg);
            opacity: 0;
        }
    }
</style>
{% endblock %}

{% block content %}
<!-- Hero секция -->
<section class="hero-section mb-12 animate-fadeInUp">
    <div class="hero-decoration"></div>
    <div class="particle-container" id="particle-container"></div>
    <div class="hero-content">
        <div class="hero-badge">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
            </svg>
            Система олимпиад нового поколения
        </div>

        <h1 class="hero-title">
            Покоряйте вершины<br>
            <span style="background: linear-gradient(135deg, #fff 0%, #f8fafc 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">знаний с МелГУ</span>
        </h1>

        <p class="hero-subtitle">
            Платформа для проведения онлайн-олимпиад с инновационной системой оценки,
            адаптивными заданиями и мгновенной обратной связью. Ваш путь к академическому совершенству начинается здесь.
        </p>

        <!-- Кнопки действий -->
        {% if not current_user.is_authenticated %}
        <div class="flex flex-col sm:flex-row gap-4 mb-8">
            <a href="{{ url_for('register') }}" class="btn-primary">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                    <path d="M8 9a3 3 0 100-6 3 3 0 000 6zM8 11a6 6 0 016 6H2a6 6 0 016-6zM16 7a1 1 0 10-2 0v1h-1a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1V7z" />
                </svg>
                Начать участие
            </a>
            <a href="{{ url_for('login') }}" class="btn-secondary">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M3 3a1 1 0 011 1v12a1 1 0 11-2 0V4a1 1 0 011-1zm7.707 3.293a1 1 0 010 1.414L9.414 9H17a1 1 0 110 2H9.414l1.293 1.293a1 1 0 01-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0z" clip-rule="evenodd" />
                </svg>
                Войти в систему
            </a>
        </div>
        {% endif %}

        <!-- Статистика Hero -->
        <div class="hero-stats">
            <div class="hero-stat">
                <span class="hero-stat-number counter" data-target="15000">0</span>
                <span class="hero-stat-label">Участников</span>
            </div>
            <div class="hero-stat">
                <span class="hero-stat-number counter" data-target="250">0</span>
                <span class="hero-stat-label">Олимпиад</span>
            </div>
            <div class="hero-stat">
                <span class="hero-stat-number counter" data-target="50">0</span>
                <span class="hero-stat-label">Направлений</span>
            </div>
            <div class="hero-stat">
                <span class="hero-stat-number">98%</span>
                <span class="hero-stat-label">Довольных</span>
            </div>
        </div>
    </div>
</section>

<!-- Секция преимуществ -->
<section class="features-section animate-fadeInUp">
    <div class="max-w-6xl mx-auto px-6">
        <div class="text-center mb-16">
            <h2 class="text-4xl font-bold text-gray-800 mb-6">
                Почему выбирают <span style="color: #820000;">нашу систему?</span>
            </h2>
            <p class="text-xl text-gray-600 max-w-3xl mx-auto">
                Современные технологии и инновационный подход к проведению олимпиад
                делают процесс обучения увлекательным и эффективным
            </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            <div class="feature-card animate-slideInFromLeft" style="animation-delay: 0.1s">
                <div class="feature-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M6.672 1.911a1 1 0 10-1.932.518l.259.966a1 1 0 001.932-.518l-.26-.966zM2.429 4.74a1 1 0 10-.517 1.932l.966.259a1 1 0 00.517-1.932l-.966-.26zm8.814-.569a1 1 0 00-1.415-1.414l-.707.707a1 1 0 101.415 1.415l.707-.708zm-7.071 7.072l.707-.707A1 1 0 003.465 9.12l-.708.707a1 1 0 001.415 1.415zm3.2-5.171a1 1 0 00-1.3 1.3l4 10a1 1 0 001.823.075l1.38-2.759 3.018 3.02a1 1 0 001.414-1.415l-3.019-3.02 2.76-1.379a1 1 0 00-.076-1.822l-10-4z" clip-rule="evenodd" />
                    </svg>
                </div>
                <h3 class="feature-title">Мгновенная обратная связь</h3>
                <p class="feature-description">
                    Получайте результаты сразу после завершения задания.
                    Система автоматически проверяет ответы и предоставляет детальную аналитику вашего прогресса.
                </p>
            </div>

            <div class="feature-card animate-slideInFromLeft" style="animation-delay: 0.2s">
                <div class="feature-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                </div>
                <h3 class="feature-title">Адаптивные задания</h3>
                <p class="feature-description">
                    Интеллектуальная система подбирает задания под ваш уровень знаний,
                    обеспечивая оптимальную сложность и максимальную эффективность обучения.
                </p>
            </div>

            <div class="feature-card animate-slideInFromLeft" style="animation-delay: 0.3s">
                <div class="feature-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z" />
                    </svg>
                </div>
                <h3 class="feature-title">Детальная аналитика</h3>
                <p class="feature-description">
                    Отслеживайте свой прогресс с помощью подробной статистики,
                    графиков и рекомендаций по улучшению результатов.
                </p>
            </div>

            <div class="feature-card animate-slideInFromLeft" style="animation-delay: 0.4s">
                <div class="feature-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z" clip-rule="evenodd" />
                    </svg>
                </div>
                <h3 class="feature-title">Облачная синхронизация</h3>
                <p class="feature-description">
                    Ваш прогресс автоматически сохраняется в облаке.
                    Продолжайте обучение с любого устройства в любое время.
                </p>
            </div>

            <div class="feature-card animate-slideInFromLeft" style="animation-delay: 0.5s">
                <div class="feature-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z" />
                    </svg>
                </div>
                <h3 class="feature-title">Сообщество единомышленников</h3>
                <p class="feature-description">
                    Участвуйте в рейтингах, соревнуйтесь с другими студентами
                    и обменивайтесь опытом в активном академическом сообществе.
                </p>
            </div>

            <div class="feature-card animate-slideInFromLeft" style="animation-delay: 0.6s">
                <div class="feature-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                    </svg>
                </div>
                <h3 class="feature-title">Сертификация достижений</h3>
                <p class="feature-description">
                    Получайте официальные сертификаты о прохождении олимпиад,
                    которые признаются работодателями и образовательными учреждениями.
                </p>
            </div>
        </div>
    </div>
</section>

<!-- Статистика университета -->
<section class="university-stats animate-fadeInUp">
    <div class="max-w-6xl mx-auto px-6">
        <div class="text-center mb-16">
            <h2 class="text-4xl font-bold mb-6">МелГУ в цифрах</h2>
            <p class="text-xl text-white text-opacity-90 max-w-3xl mx-auto">
                Мелитопольский государственный университет - ведущий центр образования
                с богатой историей и инновационным подходом к обучению
            </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
            <div class="stat-card animate-slideInFromLeft" style="animation-delay: 0.1s">
                <div class="stat-number counter" data-target="95">0</div>
                <div class="text-white text-opacity-80">лет истории</div>
            </div>
            <div class="stat-card animate-slideInFromLeft" style="animation-delay: 0.2s">
                <div class="stat-number counter" data-target="12000">0</div>
                <div class="text-white text-opacity-80">студентов</div>
            </div>
            <div class="stat-card animate-slideInFromLeft" style="animation-delay: 0.3s">
                <div class="stat-number counter" data-target="150">0</div>
                <div class="text-white text-opacity-80">специальностей</div>
            </div>
            <div class="stat-card animate-slideInFromLeft" style="animation-delay: 0.4s">
                <div class="stat-number counter" data-target="800">0</div>
                <div class="text-white text-opacity-80">преподавателей</div>
            </div>
        </div>
    </div>
</section>

<!-- Текущие олимпиады -->
{% if olympiads %}
<section class="olympiads-section animate-fadeInUp">
    <div class="max-w-6xl mx-auto px-6">
        <div class="text-center mb-16">
            <h2 class="text-4xl font-bold text-gray-800 mb-6">
                {% if current_user.is_authenticated %}Доступные олимпиады{% else %}Актуальные олимпиады{% endif %}
            </h2>
            <p class="text-xl text-gray-600">
                {% if current_user.is_authenticated %}
                    Выберите олимпиаду и проверьте свои знания прямо сейчас
                {% else %}
                    Зарегистрируйтесь и начните участвовать в олимпиадах уже сегодня
                {% endif %}
            </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            {% for olympiad in olympiads[:6] %}
                {% set current_time = now() %}
                {% set status = 'upcoming' if olympiad.start_time > current_time else ('active' if olympiad.end_time > current_time else 'completed') %}

                <div class="olympiad-card animate-slideInFromRight" style="animation-delay: {{ loop.index0 * 0.1 }}s">
                    <div class="olympiad-status {% if status == 'active' %}status-active{% elif status == 'upcoming' %}status-upcoming{% else %}status-completed{% endif %}">
                        {% if status == 'active' %}
                            <svg xmlns="http://www.w3.org/2000/svg" class="inline h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.293l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 001.414 1.414L9 9.414V13a1 1 0 102 0V9.414l1.293 1.293a1 1 0 001.414-1.414z" clip-rule="evenodd" />
                            </svg>
                            Активна
                        {% elif status == 'upcoming' %}
                            <svg xmlns="http://www.w3.org/2000/svg" class="inline h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd" />
                            </svg>
                            Скоро
                        {% else %}
                            <svg xmlns="http://www.w3.org/2000/svg" class="inline h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                            </svg>
                            Завершена
                        {% endif %}
                    </div>

                    <div class="p-6">
                        <h3 class="text-xl font-bold text-gray-800 mb-3">{{ olympiad.title }}</h3>
                        <p class="text-gray-600 mb-4 line-clamp-3">{{ olympiad.description }}</p>

                        <div class="flex flex-wrap gap-2 mb-4">
                            <div class="inline-flex items-center px-3 py-1 bg-gray-100 rounded-full text-sm">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1 text-gray-500" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd" />
                                </svg>
                                {{ olympiad.start_time.strftime('%d.%m.%Y') }}
                            </div>
                            {% if olympiad.participations %}
                            <div class="inline-flex items-center px-3 py-1 bg-gray-100 rounded-full text-sm">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1 text-gray-500" viewBox="0 0 20 20" fill="currentColor">
                                    <path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z" />
                                </svg>
                                {{ olympiad.participations|length }} участников
                            </div>
                            {% endif %}
                        </div>

                        <a href="{{ url_for('view_olympiad', olympiad_id=olympiad.id) }}" class="btn-primary w-full justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd" />
                            </svg>
                            Подробнее
                        </a>
                    </div>
                </div>
            {% endfor %}
        </div>

        {% if olympiads|length > 6 %}
        <div class="text-center mt-12">
            <a href="#" onclick="showMessage('Показать все олимпиады', 'info')" class="btn-secondary">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd" />
                </svg>
                Показать все олимпиады
            </a>
        </div>
        {% endif %}
    </div>
</section>
{% endif %}

<!-- Отзывы -->
<section class="testimonials-section animate-fadeInUp">
    <div class="max-w-6xl mx-auto px-6">
        <div class="text-center mb-16">
            <h2 class="text-4xl font-bold text-gray-800 mb-6">Что говорят наши студенты</h2>
            <p class="text-xl text-gray-600">Отзывы участников олимпиад МелГУ</p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            <div class="testimonial-card animate-slideInFromLeft" style="animation-delay: 0.1s">
                <div class="testimonial-content">
                    <div class="testimonial-quote">
                        Система олимпиад МелГУ помогла мне значительно улучшить свои знания по математике.
                        Особенно ценю мгновенную обратную связь и детальную аналитику ошибок.
                    </div>
                    <div class="testimonial-author">
                        <div class="testimonial-avatar">А</div>
                        <div class="testimonial-info">
                            <h4>Анна Петренко</h4>
                            <p>Студентка 3 курса, Факультет информатики</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="testimonial-card animate-slideInFromLeft" style="animation-delay: 0.2s">
                <div class="testimonial-content">
                    <div class="testimonial-quote">
                        Участие в олимпиадах стало для меня увлекательным способом проверить свои силы.
                        Рейтинговая система мотивирует постоянно совершенствоваться.
                    </div>
                    <div class="testimonial-author">
                        <div class="testimonial-avatar">М</div>
                        <div class="testimonial-info">
                            <h4>Михаил Коваленко</h4>
                            <p>Студент 2 курса, Экономический факультет</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="testimonial-card animate-slideInFromLeft" style="animation-delay: 0.3s">
                <div class="testimonial-content">
                    <div class="testimonial-quote">
                        Адаптивная система заданий просто потрясающая! Задания всегда соответствуют моему уровню,
                        и я чувствую постоянный прогресс в обучении.
                    </div>
                    <div class="testimonial-author">
                        <div class="testimonial-avatar">Е</div>
                        <div class="testimonial-info">
                            <h4>Елена Сидорова</h4>
                            <p>Студентка 4 курса, Филологический факультет</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA секция -->
<section class="cta-section animate-fadeInUp">
    <div class="max-w-6xl mx-auto px-6">
        <div class="cta-card">
            <div class="cta-icon">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12" viewBox="0 0 20 20" fill="currentColor">
                    <path d="M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z" />
                </svg>
            </div>

            <h2 class="text-4xl font-bold text-gray-800 mb-6">
                Готовы начать свой <span style="color: #820000;">путь к успеху?</span>
            </h2>

            <p class="text-xl text-gray-600 mb-8 max-w-2xl mx-auto">
                Присоединяйтесь к тысячам студентов МелГУ, которые уже улучшают свои знания
                с помощью нашей инновационной системы олимпиад
            </p>

            {% if not current_user.is_authenticated %}
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <a href="{{ url_for('register') }}" class="btn-primary">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M8 9a3 3 0 100-6 3 3 0 000 6zM8 11a6 6 0 016 6H2a6 6 0 016-6zM16 7a1 1 0 10-2 0v1h-1a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1V7z" />
                    </svg>
                    Зарегистрироваться бесплатно
                </a>
                <a href="{{ url_for('login') }}" class="btn-secondary">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd" />
                    </svg>
                    Узнать больше
                </a>
            </div>
            {% else %}
            <div class="text-center">
                <p class="text-lg text-gray-600 mb-6">
                    Добро пожаловать, {{ current_user.full_name }}!
                    Готовы к новым вызовам?
                </p>
                {% if current_user.is_admin %}
                <a href="{{ url_for('admin_olympiads') }}" class="btn-primary">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                    </svg>
                    Управление олимпиадами
                </a>
                {% else %}
                <a href="{{ url_for('profile') }}" class="btn-primary">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd" />
                    </svg>
                    Мой профиль
                </a>
                {% endif %}
            </div>
            {% endif %}
        </div>
    </div>
</section>

{% if current_user.is_authenticated and current_user.is_admin %}
<!-- Модальное окно создания олимпиады для админов -->
<div id="create-olympiad-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center" style="display: none;">
    <div class="bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 animate-scaleIn">
        <div class="bg-gradient-to-r from-[#820000] to-[#a91b2b] text-white px-6 py-4 rounded-t-lg">
            <h3 class="text-lg font-medium flex items-center">
                <svg class="h-5 w-5 mr-2" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="white" stroke-width="2">
                    <g transform="translate(50 50)">
                        <path d="M-20,0 C-30,-15 -15,-15 -10,-5 C-5,5 5,5 10,-5 C15,-15 30,-15 20,0 C30,15 15,15 10,5 C5,-5 -5,-5 -10,5 C-15,15 -30,15 -20,0 Z" fill="none" />
                    </g>
                </svg>
                Создание новой олимпиады
            </h3>
            <button onclick="closeCreateOlympiadModal()" class="absolute top-4 right-4 text-white hover:text-gray-200">&times;</button>
        </div>
        <div class="p-6">
            <form id="create-olympiad-form" enctype="multipart/form-data">
                <div class="space-y-4">
                    <div>
                        <label for="title" class="block text-sm font-medium text-gray-700 mb-1">Название олимпиады</label>
                        <input type="text" id="title" name="title" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#820000]">
                    </div>
                    <div>
                        <label for="description" class="block text-sm font-medium text-gray-700 mb-1">Описание</label>
                        <textarea id="description" name="description" rows="3" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#820000]"></textarea>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label for="start_time" class="block text-sm font-medium text-gray-700 mb-1">Время начала</label>
                            <input type="datetime-local" id="start_time" name="start_time" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#820000]">
                        </div>
                        <div>
                            <label for="end_time" class="block text-sm font-medium text-gray-700 mb-1">Время окончания</label>
                            <input type="datetime-local" id="end_time" name="end_time" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#820000]">
                        </div>
                    </div>
                    <div>
                        <label for="welcome_pdf" class="block text-sm font-medium text-gray-700 mb-1">Приветственный PDF (необязательно)</label>
                        <input type="file" id="welcome_pdf" name="welcome_pdf" accept=".pdf" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#820000]">
                    </div>
                </div>
            </form>
        </div>
        <div class="bg-gray-50 px-6 py-4 flex justify-end rounded-b-lg">
            <button onclick="closeCreateOlympiadModal()" class="px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 mr-3">Отмена</button>
            <button onclick="submitCreateOlympiadForm()" class="px-4 py-2 bg-[#820000] text-white rounded-md hover:bg-opacity-90">Создать</button>
        </div>
    </div>
</div>
{% endif %}
{% endblock %}

{% block scripts %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Инициализация анимаций
        initCounters();
        initParticles();
        setupIntersectionObserver();

        // Эффекты при прокрутке
        window.addEventListener('scroll', handleScroll);
    });

    // Анимация счетчиков
    function initCounters() {
        const counters = document.querySelectorAll('.counter');

        counters.forEach(counter => {
            const target = parseInt(counter.dataset.target);
            const duration = 2000;
            let start = null;

            function animate(currentTime) {
                if (start === null) start = currentTime;
                const elapsed = currentTime - start;
                const progress = Math.min(elapsed / duration, 1);

                const easeOutQuart = 1 - Math.pow(1 - progress, 4);
                const currentValue = Math.floor(easeOutQuart * target);

                counter.textContent = currentValue.toLocaleString();

                if (progress < 1) {
                    requestAnimationFrame(animate);
                } else {
                    counter.textContent = target.toLocaleString();
                }
            }

            // Запускаем анимацию при входе в viewport
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        requestAnimationFrame(animate);
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.5 });

            observer.observe(counter);
        });
    }

    // Создание частиц в hero секции
    function initParticles() {
        const particleContainer = document.getElementById('particle-container');
        if (!particleContainer) return;

        function createParticle() {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.animationDelay = Math.random() * 6 + 's';
            particle.style.animationDuration = (6 + Math.random() * 4) + 's';

            particleContainer.appendChild(particle);

            setTimeout(() => {
                particle.remove();
            }, 10000);
        }

        // Создаем частицы периодически
        setInterval(createParticle, 2000);

        // Создаем начальные частицы
        for (let i = 0; i < 5; i++) {
            setTimeout(createParticle, i * 1000);
        }
    }

    // Настройка наблюдателя за пересечениями для анимаций
    function setupIntersectionObserver() {
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        // Подготавливаем элементы для анимации
        document.querySelectorAll('.animate-fadeInUp, .animate-slideInFromLeft, .animate-slideInFromRight').forEach(el => {
            el.style.opacity = '0';
            el.style.transform = 'translateY(30px)';
            el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            observer.observe(el);
        });
    }

    // Обработка прокрутки для параллакс эффектов
    function handleScroll() {
        const scrolled = window.pageYOffset;
        const rate = scrolled * -0.5;

        // Параллакс для декоративных элементов
        const heroDecoration = document.querySelector('.hero-decoration');
        if (heroDecoration) {
            heroDecoration.style.transform = `translateY(${rate}px)`;
        }
    }

    // Функции для модального окна (только для админов)
    {% if current_user.is_authenticated and current_user.is_admin %}
    function showCreateOlympiadModal() {
        const modal = document.getElementById('create-olympiad-modal');
        modal.style.display = 'flex';
        document.body.style.overflow = 'hidden';
    }

    function closeCreateOlympiadModal() {
        const modal = document.getElementById('create-olympiad-modal');
        modal.style.display = 'none';
        document.body.style.overflow = '';
    }

    function submitCreateOlympiadForm() {
        const form = document.getElementById('create-olympiad-form');
        const formData = new FormData(form);

        const submitBtn = event.target;
        const originalText = submitBtn.textContent;
        submitBtn.innerHTML = '<div class="loader"><div class="loader-dot"></div><div class="loader-dot"></div><div class="loader-dot"></div></div> Создание...';
        submitBtn.disabled = true;

        axios.post('{{ url_for("create_olympiad") }}', formData)
            .then(function(response) {
                if (response.data.success) {
                    showMessage('Олимпиада успешно создана!');
                    setTimeout(() => {
                        window.location.href = '/admin/olympiad/' + response.data.olympiad_id;
                    }, 1000);
                } else {
                    showMessage(response.data.message || 'Ошибка при создании олимпиады', 'error');
                    submitBtn.textContent = originalText;
                    submitBtn.disabled = false;
                }
            })
            .catch(function(error) {
                showMessage('Произошла ошибка: ' + (error.response?.data?.message || error.message), 'error');
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
            });
    }

    // Закрытие модального окна при клике вне его области
    document.addEventListener('click', function(event) {
        const modal = document.getElementById('create-olympiad-modal');
        if (modal && modal.style.display !== 'none') {
            const modalContent = modal.querySelector('.bg-white');
            if (event.target === modal && !modalContent.contains(event.target)) {
                closeCreateOlympiadModal();
            }
        }
    });

    // Закрытие модального окна по нажатию Escape
    document.addEventListener('keydown', function(event) {
        if (event.key === 'Escape') {
            const modal = document.getElementById('create-olympiad-modal');
            if (modal && modal.style.display !== 'none') {
                closeCreateOlympiadModal();
            }
        }
    });

    // Глобальные функции для админов
    window.showCreateOlympiadModal = showCreateOlympiadModal;
    window.closeCreateOlympiadModal = closeCreateOlympiadModal;
    window.submitCreateOlympiadForm = submitCreateOlympiadForm;
    {% endif %}

    // Плавная прокрутка для якорных ссылок
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });

    // Эффект hover для интерактивных элементов
    document.querySelectorAll('.interactive-hover').forEach(element => {
        element.addEventListener('mouseenter', function() {
            this.style.transform = 'scale(1.02)';
        });

        element.addEventListener('mouseleave', function() {
            this.style.transform = 'scale(1)';
        });
    });
</script>
{% endblock %}